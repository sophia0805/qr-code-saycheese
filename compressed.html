<style>body{font-family:sans-serif;padding:20px;display:flex;flex-direction:column;align-items:center}#cr{background:#000;color:#fff;font-size:8px;line-height:8px;letter-spacing:1px;width:100%;max-width:70vw;border-radius:8px;overflow:hidden;aspect-ratio:16/9}#cr.em{font-size:4px}.pw{width:100%;max-width:800px;height:4px;margin:12px 0;overflow:hidden;background:#e2e8f0;border-radius:2px}#pb{transform:translateX(17vw)}.pr{background:#ef4444;height:100%}.f{padding-right:2vw}.ct{width:100%;max-width:800px;display:flex;align-items:center;gap:12px;margin-top:12px}#ei,button,label{padding:8px 16px;font-size:14px;color:#1e3a8a;background:#dbeafe;border:0;border-radius:99px}#ei{width:40px;text-align:center}button,label{cursor:pointer}#video{display:none}</style><pre id="cr"></pre><video id="video"></video><div class="pw"><div class="pr"></div></div><div class="ct"><div class="f"><input id="f" accept="video/*" style="display:none" type="file"><label for="f" id="label">Choose File:</label></div><button id="eb">Emoji</button><input id="ei" value="🍎"><button id="pb">Play</button></div><script>let t=document.getElementById`video`,e=document.getElementById`cr`,i=document.getElementById`f`,a=document.getElementById`eb`,o=document.getElementById`ei`,l=document.getElementById`pb`,n=document.getElementById`label`,d=document.querySelector`.pr`,s="@#S%?*+;:, ".split``,r={frameSize:.15*innerWidth,isPlaying:0,ascii:0},c=document.createElement`canvas`,m=c.getContext`2d`;function g(){if(r.isPlaying){m.drawImage(t,0,0,c.width,c.height);let i=m.getImageData(0,0,c.width,c.height).data,n="";for(let t=0;t<c.height;t++){for(let e=0;e<c.width;e++){var a=4*(t*c.width+e),a=.299*i[a]+.587*i[1+a]+.114*i[2+a];n+=r.ascii?s[a/256*11|0]:.5<a?o.value.substring(0,2):"  "}n+="\n"}e.textContent=n,t.ended?(r.isPlaying=0,l.textContent="Play"):requestAnimationFrame(g)}}i.onchange=e=>{e=e.target.files[0],n.textContent="Choose File: "+e.name,e&&(t.src=URL.createObjectURL(e),t.load())},l.onclick=e=>{r.isPlaying?(t.pause(),r.isPlaying=0,l.textContent="Play"):(t.play(),r.isPlaying=1,l.textContent="Pause",g())},a.onclick=t=>{r.ascii=!r.ascii,a.textContent=r.ascii?"Ascii":"Emoji",o.style.display=r.ascii?"none":"block",r.ascii?e.classList.remove("em"):e.classList.add("em")},t.onloadedmetadata=e=>{c.height=r.frameSize*t.videoHeight/t.videoWidth*.5|0,c.width=r.frameSize},t.ontimeupdate=e=>{d.style.width=100*t.currentTime/t.duration+"%"},e.classList.add("em")</script>